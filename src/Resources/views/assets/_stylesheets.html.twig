{# src/Resources/views/assets/_stylesheets.html.twig #}
{% set _webPath    = "bundles/wbwdatatables" %}
{% set _version    = getContainerParameter("wbw.datatables.assets").version %}
{% set _plugins    = getContainerParameter("wbw.datatables.assets").plugins %}
{% set _appTheme   = getContainerParameter("wbw_datatables.theme") %}
{% set _appPlugins = getContainerParameter("wbw_datatables.plugins") %}

{% if ("prod" != app.environment) %}<!-- DataTables -->{% endif %}
<link type="text/css" rel="stylesheet" href="{{ asset(_webPath ~ "/datatables-" ~ _version ~ "/css/dataTables." ~ _appTheme ~ ".min.css") }}">
{% for _appPlugin in _appPlugins %}

    {% set _replaces = {
        "{{ version }}": _plugins[_appPlugin].version,
        "{{ theme }}"  : _appTheme,
    } %}

    {% for _stylesheet in _plugins[_appPlugin].stylesheets %}

        {% set _path = (_webPath ~ _stylesheet)|replace(_replaces) %}
        <link type="text/css" rel="stylesheet" href="{{ asset(_path) }}">
    {% endfor %}
{% endfor %}
